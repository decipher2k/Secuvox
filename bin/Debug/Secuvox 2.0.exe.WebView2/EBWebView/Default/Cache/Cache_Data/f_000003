{"metadata":{"name":"Ninja cookie rule (websites)","version":"0.3.32","description":"A set of rules used by Ninja Cookie (for websites)","homepage":"https://ninja-cookie.com/","bugs_email":"bugs@ninja-cookie.com","license_file":"LICENSE"},"websites/3suisses-fr":{"metadata":{"name":"3 Suisses","website":"https://www.3suisses.fr/"},"match":[{"type":"url","regex":"^.*3suisses\\.fr"},{"type":"check","selector":"#cookie_policy_rgpd"}],"required":[{"type":"cookie","name":"cookie_rgpd","missing":true}],"action":[{"type":"hide"},{"type":"sleep","timeout":2000},{"type":"click","selector":"#rgpd-show"},{"type":"check","selector":".rgpd-detail"},{"type":"hide","selector":".mfp-wrap"},{"type":"check","selector":".mfp-bg"},{"type":"remove"},{"type":"css","selector":"html","properties":{"overflow":""}},{"type":"sleep"},{"type":"checkbox","selector":"input[id^='ckb-cookiesRGPD_']:checkbox","optional":true},{"type":"sleep"},{"type":"click","selector":"#rgpd-choose"}]},"websites/adidas":{"metadata":{"name":"Adidas","website":"https://www.adidas.com/"},"match":[{"type":"url","regex":"^.*adidas\\..*"},{"type":"check","selector":"#modal-root:not(:empty)"}],"action":[{"type":"hide"},{"type":"class","selector":"body","className":"gl-modal-open"},{"type":"click","selector":"button[data-auto-id='glass-gdpr-default-consent-manage-button']"},{"type":"check","selector":"div[data-auto-id='glass-gdpr-consent-options-radio-group']"},{"type":"sleep"},{"type":"click","selector":"label > input[name='consent'][value='0']"},{"type":"sleep"},{"type":"click","selector":"button[data-auto-id='glass-gdpr-consent-options-save-button']"}]},"websites/amazon":{"metadata":{"name":"Amazon","website":"https://www.amazon.fr/"},"match":[{"type":"url","regex":"^.*amazon\\..*"},{"type":"check","selector":"form#sp-cc"}],"action":[{"type":"hide"},{"type":"window","unloading":true,"gracePeriod":2000,"urlSelector":"a#a-autoid-1-announce","action":[{"type":"check","selector":"form [class*='-off-radio'] label"},{"type":"sleep"},{"type":"click"},{"type":"sleep"},{"type":"click","selector":"input[type='submit'][aria-labelledby='savePrefs-announce']"}]}]},"websites/backmarket":{"metadata":{"name":"Back Market","website":"https://www.backmarket.com/"},"match":[{"type":"url","regex":"^.*(the)?backmarket\\..*"},{"type":"check","selector":"#main_container + div"}],"action":[{"type":"hide"},{"type":"window","unloading":true,"gracePeriod":5000,"urlSelector":"#main_container + div button + a","action":[{"type":"check","selector":"button[data-test='cookies-save-button']"},{"type":"sleep"},{"type":"click","selector":".radio-container + .radio-container:not(.radio-disabled) label"},{"type":"sleep"},{"type":"click","selector":"button[data-test='cookies-save-button']"}]}]},"websites/bbc-com":{"metadata":{"name":"BBC","website":"https://www.bbc.com/"},"match":[{"type":"url","regex":"^.*bbc\\.com"},{"type":"check","selector":"#cookiePrompt"}],"required":[{"type":"check","selector":"#bbcprivacy","timeout":2000}],"action":[{"type":"check","options":"attributes","selector":"#bbcprivacy:visible"},{"type":"hide"},{"type":"sleep","timeout":1000},{"type":"click","selector":"#bbcprivacy-continue-button"},{"type":"check","options":"attributes","selector":"#bbccookies:visible"},{"type":"hide"},{"type":"class","selector":"#cookiePrompt","className":["full-screen","full-screen-bottom","full-screen-overlay"]},{"type":"sleep","timeout":1000},{"type":"click","selector":"#bbccookies-continue-button"},{"type":"sleep","timeout":1000},{"type":"window","url":"https://www.bbc.com/usingthebbc/cookies/how-can-i-change-my-bbc-cookie-settings/","action":[{"type":"sleep","timeout":2000},{"type":"click","selector":"input:checkbox:checked:not(.alwayson) ~ label"},{"type":"sleep","timeout":2000}]}]},"websites/dailymotion-com":{"name":"DailyMotion","website":"https://www.dailymotion.com/","match":[{"type":"url","regex":"^.*dailymotion\\.com"}],"required":[{"type":"cookie","name":"dm-euconsent-v2","missing":true}],"action":[{"type":"check","selector":"div[class*='TCF2Banner__container___']"},{"type":"hide"},{"type":"window","url":"https://www.dailymotion.com/legal/consent","action":[{"type":"check","selector":"div[class*='TCF2ConsentPage__buttonContainer___']"},{"type":"click","selector":"div[class*='TCF2ConsentPage__buttonContainer___'] button:first-of-type"},{"type":"sleep","timeout":2000},{"type":"click","selector":"button[class*='TCF2ConsentPage__saveButton___']"}]}]},"websites/dealabs-com":{"metadata":{"name":"Dealabs","website":"https://www.dealabs.com/"},"match":[{"type":"url","regex":"^.*dealabs\\.com"},{"type":"check","selector":".softMessages-item"}],"action":[{"type":"hide"},{"type":"check","selector":".softMessages-item button"},{"type":"sleep","timeout":2000},{"type":"click"},{"type":"sleep","timeout":2000},{"type":"window","url":"https://www.dealabs.com/cookies-policy","action":[{"type":"sleep","timeout":1000},{"type":"click","selector":"button[data-replace*='\"allow_functionality_cookies\":\"off\"']","optional":true},{"type":"click","selector":"span[data-replace*='\"allow_tracking\":\"off\"']","optional":true},{"type":"click","selector":"button[data-replace*='\"allow_personalization_features\":\"off\"']","optional":true},{"type":"sleep","timeout":1000}]}]},"websites/deepl-com":{"metadata":{"name":"DeepL","website":"https://www.deepl.com/"},"match":[{"type":"url","regex":"^.*deepl\\.com"},{"type":"check","selector":"#dl_cookieBanner"}],"required":[{"type":"cookie","name":"privacySettings","missing":true}],"action":[{"type":"hide"},{"type":"check","selector":"#dl_cookieBanner input"},{"type":"sleep"},{"type":"checkbox","selector":"#dl_cookieBanner input:not([disabled])"},{"type":"click","selector":"#dl_cookieBanner .dl_cookieBanner--buttonSelected"}]},"websites/deezer-com":{"metadata":{"name":"Deezer","website":"https://www.deezer.com/"},"match":[{"type":"url","regex":"^.*deezer\\.com"},{"type":"check","selector":".cookie-banner-layer"}],"required":[{"type":"cookie","name":"euconsent-v2","missing":true}],"action":[{"type":"hide"},{"type":"check","selector":".cookie-banner-layer button:last-of-type"},{"type":"sleep"},{"type":"click"},{"type":"check","selector":".cookie-banner-layer + .modal"},{"type":"hide"},{"type":"sleep"},{"type":"test","selector":".cookie-banner-layer + .modal .consent-link-reject","true":[{"type":"click"}],"false":[{"type":"click","selector":".cookie-banner-layer + .modal .purposeCheckbox[class*='isChecked-'] input","optional":true}]},{"type":"sleep"},{"type":"click","selector":".cookie-banner-layer + .modal .webview-gdpr-action button"}]},"websites/ebay":{"metadata":{"name":"Ebay","website":"https://www.ebay.com/"},"match":[{"type":"url","regex":"^.*ebay\\..*"},{"type":"check","selector":"#gdpr-banner"}],"action":[{"type":"hide"},{"type":"external","urlSelector":".gdpr-banner-moreInfo","timeout":120000,"unloading":true,"gracePeriod":2000,"action":[{"type":"check","selector":"button[data-w-onclick^='saveData']","timeout":60000},{"type":"sleep","timeout":5000},{"type":"each","selector":".purposeli a.smore","action":[{"type":"click"},{"type":"click","selector":".purposeli.currentItem > label .knob:not(.selected) .toggle","optional":true},{"type":"click","selector":".purposeli.currentItem .vendorList label .knob.selected .toggle","optional":true},{"type":"click","selector":".purposeli.currentItem > label .knob.selected .toggle"}]},{"type":"sleep","timeout":1000},{"type":"click","selector":"button[data-w-onclick^='saveData']"}]}]},"websites/facebook-com":{"metadata":{"name":"Facebook","website":"https://www.facebook.com/"},"match":[{"type":"url","regex":"^.*facebook\\.com"},{"type":"check","selector":"[data-testid='cookie-policy-banner']"}],"action":[{"type":"hide"},{"type":"class","selector":"body.hasCookieBanner","className":"hasCookieBanner"},{"type":"click","selector":"[data-testid='cookie-policy-banner-manage']"},{"type":"sleep"},{"type":"checkbox","selector":"input[name='optout_controls']"},{"type":"sleep"},{"type":"click","selector":"[data-testid='cookie-policy-banner-manage-accept']"}]},"websites/ford":{"metadata":{"name":"Ford","website":"https://www.ford.co.uk/"},"match":[{"type":"url","regex":"^.*ford\\..*"},{"type":"check","selector":"div.cookie-disclaimer-overlay-container.visible"}],"action":[{"type":"hide"},{"type":"remove","selector":"div.cookie-disclaimer-background.visible"},{"type":"window","urlSelector":"a[data-context-type='cookiesManage']","action":[{"type":"check","selector":"button.cookie-toggle-button"},{"type":"sleep"},{"type":"click","selector":"button.cookie-toggle-button.is-active","optional":true},{"type":"sleep"},{"type":"click","selector":"button:not(.cookie-toggle-button)"},{"type":"sleep"}]}]},"websites/github-com":{"metadata":{"name":"Github","website":"https://github.com/"},"match":[{"type":"url","regex":"^.*github\\.com"},{"type":"check","selector":".js-cookie-consent-banner"}],"required":[{"type":"check","options":"attributes","selector":".js-cookie-consent-banner.hx_cookie-banner--show","timeout":2000}],"action":[{"type":"hide"},{"type":"sleep","timeout":1500},{"type":"test","selector":".js-cookie-consent-reject","true":{"type":"click"},"false":[{"type":"click","selector":".js-cookie-consent-learn-more"},{"type":"sleep"},{"type":"click","selector":"button[class*='js-reject-']"},{"type":"sleep"},{"type":"click","selector":".js-save-cookie-preferences"}]}]},"websites/google":{"metadata":{"name":"Google","website":"https://www.google.com/"},"match":[{"type":"url","regex":"^.*(google\\..*|youtube\\.com)"},{"type":"check","selector":"div[jsname='XKSfm'], .pGxpHc .gb_7, #consent-bump"}],"required":[{"type":"check","options":"attributes","selector":"#consent-bump, .pGxpHc iframe, html.QVCmK","timeout":2000}],"action":[{"type":"hide"},{"type":"class","selector":"html.QVCmK","className":"QVCmK","optional":true},{"type":"test","selector":"ytd-app","timeout":2000,"true":[{"type":"hide","selector":"iron-overlay-backdrop.opened","timeout":2000,"optional":true},{"type":"test","selector":"ytd-app ytd-popup-container paper-dialog","timeout":5000,"true":[{"type":"show","selector":"iron-overlay-backdrop.opened","timeout":0,"optional":true},{"type":"check","selector":"ytd-app ytd-popup-container paper-dialog[aria-hidden=true]"}]},{"type":"hide","selector":"iron-overlay-backdrop.opened","timeout":2000,"optional":true},{"type":"sleep"},{"type":"remove","selector":"iron-overlay-backdrop.opened","timeout":2000,"optional":true}]},{"type":"sleep","timeout":2000},{"type":"iframe","selector":"div[jsname='XKSfm'] iframe, .pGxpHc iframe, #consent-bump iframe","unloading":true,"timeout":90000,"action":[{"type":"check","selector":"div.wtr0xd a"},{"type":"sleep"},{"type":"click"},{"type":"sleep"},{"type":"external","urlSelector":"a[data-link='search']","timeout":30000,"unloading":true,"gracePeriod":2000,"action":[{"type":"check","selector":"input"},{"type":"sleep"},{"type":"test","selector":"input:checked","true":[{"type":"click"},{"type":"sleep","timeout":2000}]},{"type":"redirect","location":"about:blank","timeout":1000}]},{"type":"sleep"},{"type":"external","urlSelector":"a[data-link='ads']","timeout":30000,"unloading":true,"gracePeriod":2000,"action":[{"type":"test","selector":"div[jsname='ornU0b'][aria-checked='true']","true":[{"type":"sleep"},{"type":"click"},{"type":"focus"},{"type":"check","selector":"div[jsname='j6LnYe']"},{"type":"sleep"},{"type":"click"},{"type":"check","selector":"div[jsname='ZUkOIc']"},{"type":"sleep"},{"type":"click"}]},{"type":"test","selector":"[jsname='ornU0b'][aria-checked='mixed']","true":[{"type":"check","selector":"div[jsname='CDdsEe']"},{"type":"sleep"},{"type":"click"},{"type":"check","selector":"div[jsname='j6LnYe']"},{"type":"sleep"},{"type":"click"}],"false":[{"type":"redirect","location":"about:blank","timeout":3000}]}]},{"type":"external","urlSelector":"a[data-link='youtube']","timeout":30000,"action":[{"type":"focus"},{"type":"check","selector":"paper-toggle-button .toggle-label","timeout":10000},{"type":"sleep","timeout":2000},{"type":"each","selector":"paper-toggle-button[checked] .toggle-label","optional":true,"action":[{"type":"click"},{"type":"check","selector":"#confirm-button"},{"type":"sleep"},{"type":"click"},{"type":"sleep","timeout":2000}]}]},{"type":"sleep"},{"type":"while","selector":"div[jsname='YX4HXc']:not([style])","action":[{"type":"click","selector":"div[jsname='cZGjtd']"},{"type":"sleep"}]},{"type":"click","selector":"#agreeButton"}]}]},"websites/greenweez-com":{"metadata":{"name":"Greenweez","website":"https://www.greenweez.com/"},"match":[{"type":"url","regex":"^.*greenweez\\.com"},{"type":"check","selector":"#staticBackdrop"}],"action":[{"type":"hide","selector":"#staticBackdrop:visible","timeout":5000},{"type":"remove","selector":".modal-backdrop"},{"type":"sleep"},{"type":"click","selector":"#cookies-center-link"},{"type":"hide","selector":"#cookies-center:visible","timeout":5000},{"type":"class","selector":"body","className":"modal-open"},{"type":"sleep"},{"type":"checkbox","selector":"#cookies-center input.cookies-switch"},{"type":"sleep"},{"type":"click","selector":"#cookies_banner_close"}]},"websites/instagram-com":{"metadata":{"name":"Instagram","website":"https://www.instagram.com/"},"match":[{"type":"url","regex":"^.*instagram\\.com"},{"type":"check","selector":".RnEpo"}],"action":[{"type":"hide"},{"type":"css","selector":"body[style*='overflow']","properties":{"overflow":"unset"},"timeout":5000},{"type":"info"}]},"websites/linkedin":{"metadata":{"name":"Linked In","website":"https://www.linkedin.com/"},"match":[{"type":"url","regex":"^.*linkedin\\.com"}],"required":[{"type":"cookie","name":"BizographicsOptOut","missing":true}],"action":[{"type":"hide","selector":"#artdeco-global-alert-container div[type='COOKIE_USAGE'], #artdeco-global-alert-container div[type='COOKIE_CONSENT']"},{"type":"script","content":"(async()=>{const e=await fetch(\"https://www.linkedin.com/litms/api/metadata/user\");(await e.json()).client.isUserLoggedIn&&(document.documentElement.classList+=\" __ninja-cookie-is-member\")})()"},{"type":"external","url":"https://www.linkedin.com/mypreferences/g/guest-cookies","gracePeriod":2000,"action":[{"type":"check","selector":".artdeco-toggle"},{"type":"sleep","timeout":1000},{"type":"click","selector":"span[data-artdeco-toggled]","optional":true}]},{"type":"test","selector":".__ninja-cookie-is-member","true":{"type":"external","url":"https://www.linkedin.com/settings/member-cookies","gracePeriod":2000,"action":[{"type":"sleep","timeout":1000},{"type":"checkbox","selector":".member-cookies input"}]}},{"type":"click","selector":"button.artdeco-global-alert__dismiss"}]},"websites/nytimes-com":{"metadata":{"name":"The New York Times","website":"https://www.nytimes.com/"},"match":[{"type":"url","regex":"^.*nytimes\\.com"},{"type":"check","selector":"div.gdpr.shown"}],"action":[{"type":"hide"},{"type":"window","unloading":true,"gracePeriod":2000,"urlSelector":"a[data-testid='GDPR-manage']","action":[{"type":"check","selector":"#opt-out-of-new-york-times-nonessential-trackers"},{"type":"sleep"},{"type":"click"},{"type":"sleep","timeout":2000}]}]},"websites/paypal":{"metadata":{"name":"PayPal","website":"https://www.paypal.com/"},"match":[{"type":"url","regex":"^.*paypal\\.com"},{"type":"check","selector":"#gdprCookieBanner, #ccpaCookieBanner"}],"action":[{"type":"hide"},{"type":"window","unloading":true,"gracePeriod":2000,"urlSelector":"a#manageCookiesLink","action":[{"type":"sleep"},{"type":"click","selector":"input[checked] ~ label"},{"type":"sleep","timeout":1000},{"type":"click","selector":"button"}]}]},"websites/sfr-fr":{"metadata":{"name":"SFR","website":"https://www.sfr.fr/"},"match":[{"type":"url","regex":"^.*sfr\\.fr"},{"type":"check","selector":"#CkC"}],"action":[{"type":"hide"},{"type":"click","selector":"#CkC a.P"},{"type":"hide","selector":"#eTpi","timeout":5000},{"type":"class","selector":"body","className":"eTpi"},{"type":"click","selector":"#eTpi h2 span.N","timeout":2000},{"type":"click","selector":"#eTpi h2 span.A","timeout":2000},{"type":"click","selector":"#eTpi a.P"}]},"websites/twitch.tv":{"metadata":{"name":"Twitch.tv","website":"https://www.twitch.tv/"},"match":[{"type":"url","regex":"^.*twitch\\.tv"},{"type":"check","selector":"div.consent-banner"}],"action":[{"type":"hide"},{"type":"click","selector":"button[data-a-target='consent-banner-manage-preferences']"},{"type":"check","selector":"div.ReactModalPortal"},{"type":"hide"},{"type":"sleep"},{"type":"checkbox","selector":"div.ReactModalPortal input:checkbox"},{"type":"sleep"},{"type":"click","selector":"button[data-a-target='consent-modal-save']"}]},"websites/twitter":{"metadata":{"name":"Twitter","website":"https://twitter.com/"},"match":[{"type":"url","regex":"^.*twitter\\.com"},{"type":"check","selector":"main > div > div > div:nth-child(2)"}],"action":[{"type":"hide"},{"type":"info","messageId":"noSettingsAvailable"}]},"websites/veepee":{"metadata":{"name":"Veepee","website":"https://www.veepee.fr/"},"match":[{"type":"url","regex":"^.*veepee\\..*"},{"type":"check","selector":".cookiesBanner"}],"matched":[{"type":"check","selector":".cookiesBanner:visible","timeout":5000}],"action":[{"type":"hide"},{"type":"class","selector":"body","className":"showCookiesBanner"},{"type":"external","urlSelector":".cookiesBannerLink","gracePeriod":2000,"action":[{"type":"check","selector":""},{"type":"sleep"},{"type":"click","selector":"input[value='false']"},{"type":"sleep"},{"type":"click","selector":"input[type='submit']"}]},{"type":"click","selector":".cookiesBtn"}]},"websites/velov-grandlyon-com":{"metadata":{"name":"Velov.Grandlyon","website":"https://velov.grandlyon.com/"},"match":[{"type":"url","regex":"^.*velov\\.grandlyon\\.com"},{"type":"check","selector":"vls-cookie-banner"}],"action":[{"type":"hide"},{"type":"info","messageId":"noSettingsAvailable"}]},"websites/yahoo":{"metadata":{"name":"Yahoo!","website":"https://www.yahoo.com/"},"match":[{"type":"url","regex":"^.*yahoo\\.com"}],"required":[{"type":"url","regex":"^consent\\.yahoo\\.com"}],"action":[{"type":"test","selector":"body.blur-preview-tpl","true":[{"type":"check","selector":".consent-form a"},{"type":"sleep"},{"type":"click"}],"false":[{"type":"check","selector":".consent-form button"},{"type":"sleep"},{"type":"checkbox","selector":".consent-form input:checkbox"},{"type":"sleep"},{"type":"click","selector":".consent-form button"}]}]}}